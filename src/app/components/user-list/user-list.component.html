<app-header></app-header>
<section class="bg-color pt-5 mt-3">
  <div class="clearfix px-3 my-2">
    <div class="float-start fw-bold">Lorem Ipsum is the dummy text</div>
    <div class="float-end">
      <button
        class="btn btn-primary button-color"
        (click)="deleteSelectedUsers()"
      >
        Delete
      </button>
    </div>
  </div>
  <mat-card>
    <mat-card-content class="table-responsive">
      <table
        mat-table
        [dataSource]="dataSource"
        matSort
        class="mat-elevation-z8"
        cdkDropList
        (cdkDropListDropped)="drop($event)"
      >
        <ng-container matColumnDef="select">
          <th mat-header-cell *matHeaderCellDef>
            <mat-checkbox (change)="selectAllRows($event)"></mat-checkbox>
          </th>
          <td mat-cell *matCellDef="let user">
            <mat-checkbox (change)="onCheckboxChange(user)"></mat-checkbox>
          </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>User Name</th>
          <td mat-cell *matCellDef="let user">{{ user.name }}</td>
        </ng-container>

        <ng-container matColumnDef="phone">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            Phone Number
          </th>
          <td mat-cell *matCellDef="let user">{{ user.phone }}</td>
        </ng-container>

        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Email ID</th>
          <td mat-cell *matCellDef="let user">{{ user.email }}</td>
        </ng-container>

        <ng-container matColumnDef="delete">
          <th mat-header-cell *matHeaderCellDef class="align-right">Options</th>
          <td mat-cell *matCellDef="let user" class="align-right">
            <mat-icon class="small" (click)="deleteUser(user.id)"
              >delete</mat-icon
            >
          </td>
        </ng-container>

        <ng-container matColumnDef="drag">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let user">
            <div class="drag-handle" mat-icon-button cdkDragHandle>
              <mat-icon>drag_handle</mat-icon>
            </div>
          </td>
        </ng-container>

        <!-- Row with drag-and-drop -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns"
          cdkDrag
          class="table-row"
        ></tr></table
    ></mat-card-content>
  </mat-card>
</section>
